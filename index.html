<!DOCTYPE html>
<html>
<head>
    <title>3D Globe Visualization</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Anek+Devanagari:wght@100;200;300;400;500;600;700;800&display=swap">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <style>
        body {
            margin: 0;
            overflow: hidden;
            touch-action: none; /* Prevent default touch behaviors */
        }
        #globe-container {
            width: 100%;
            height: 100vh;
            position: relative;
        }

        .location-card {
            display: none;
            position: absolute;
            background: rgba(255, 255, 255);
            padding: 20px;
            border-radius: 20px;
            box-shadow: 0 4px 4px rgba(0, 0, 0, 0.1);
            max-width: 300px;
            z-index: 1000;
            touch-action: none;
        }

        .location-card h3 {
            margin-top: 0;
            color: #02814D;
        }

        .location-card p {
            color: #333;
            line-height: 1.5;
            margin-bottom: 8px;
        }

        .location-card .category {
            font-weight: bold;
            color: #127c9c;
            font-family: 'Anek Devanagari';
            font-weight: 400;
            font-size: 16px;
        }

        .location-card .year {
            font-family: 'Anek Devanagari';
            color: #666;
            font-size: 16px;
            font-weight: 400;
        }

        #location-title{
            font-family: 'Anek Devanagari';
            font-size: 20px;
            font-weight: 600;
        }

        #location-description{
            font-family: 'Anek Devanagari';
            color: #8B8B8B;
            font-size: 16px;
            font-weight: 400;
        }

        @media (max-width: 768px) {
            .location-card {
                max-width: 80%;
                left: 50% !important;
                transform: translateX(-50%);
                bottom: 20px;
            }
        }
    </style>
</head>
<body>
    <div id="globe-container"> 
    </div>
    <div id="location-card" class="location-card">
        <h3 id="location-title"></h3>
        <p id="location-category" class="category"></p>
        <p id="location-year" class="year"></p>
        <p id="location-description"></p>
    </div>

    <script>
        // Initialize Three.js scene
        const scene = new THREE.Scene();
        scene.background = new THREE.Color(0x000000);
        const camera = new THREE.PerspectiveCamera(77, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ antialias: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.getElementById('globe-container').appendChild(renderer.domElement);

        // Add title text
        const titleDiv = document.createElement('div');
        titleDiv.style.position = 'absolute';
        titleDiv.style.top = '120px';
        titleDiv.style.left = '45px';
        titleDiv.style.color = '#EEEEEE';
        titleDiv.style.fontSize = '40px';
        titleDiv.style.width = '240px';
        titleDiv.style.lineHeight = '50px';
        titleDiv.style.fontFamily = 'Anek Devanagari';
        titleDiv.style.fontWeight = 'Medium';
        titleDiv.innerHTML = "NID's Reach & Collaborations";
        document.body.appendChild(titleDiv);

        // Add legend
        const legendDiv = document.createElement('div');
        legendDiv.style.position = 'absolute';
        legendDiv.style.top = '250px';
        legendDiv.style.left = '30px';
        legendDiv.style.padding = '15px';
        legendDiv.style.fontSize = '18px';
        legendDiv.style.backgroundColor = 'none';
        legendDiv.style.fontFamily = 'Anek Devanagari';
        legendDiv.style.fontWeight = 'Medium';

        const categories = [
            { name: 'Conference', color: '#AE2079' },
            { name: 'International Exchange', color: '#127C9C' },
            { name: 'Exhibition', color: '#53419A' },
            { name: 'IDS Project', color: '#DB2044' },
            { name: 'Research', color: '#EAC300' },
            { name: 'Collaboration', color: '#F37424' },
            { name: 'Design Entrepreneurship', color: '#2920AE' },
            { name: 'Institution Building', color: '#78AE20' },
            { name: 'Design Promotion', color: '#20AE8D' }
        ];

        categories.forEach(category => {
            const item = document.createElement('div');
            item.style.marginBottom = '8px';
            item.style.display = 'flex';
            item.style.alignItems = 'center';
            
            const colorBox = document.createElement('span');
            colorBox.style.width = '12px';
            colorBox.style.height = '12px';
            colorBox.style.backgroundColor = category.color;
            colorBox.style.display = 'inline-block';
            colorBox.style.borderRadius = '50%';
            colorBox.style.marginRight = '8px';

            const text = document.createElement('span');
            text.textContent = category.name;
            text.style.color = '#EEEEEE';
            text.style.fontSize = '18px';

            item.appendChild(colorBox);
            item.appendChild(text);
            legendDiv.appendChild(item);
        });

        document.body.appendChild(legendDiv);
        
        // Add credits
        const creditsDiv = document.createElement('div');
        creditsDiv.style.position = 'absolute';
        creditsDiv.style.bottom = '20px';
        creditsDiv.style.right = '20px';
        creditsDiv.style.padding = '10px';
        creditsDiv.style.fontSize = '12px';
        creditsDiv.style.fontFamily = 'Anek Devanagari';
        creditsDiv.style.color = '#EEEEEE';
        creditsDiv.style.textAlign = 'left';
        creditsDiv.innerHTML = 'Created by <br> Siddhant Kapadne INFD-23 <br> Madhavi Sharma INFD-23 <br> Dhruvrajsinh jadeja EDUG-22';
        document.body.appendChild(creditsDiv);
        
        // Create stars
        const starsGeometry = new THREE.BufferGeometry();
        const starsMaterial = new THREE.PointsMaterial({
            color: 0xf4f4f4,
            size: 0.1
        });

        const starsVertices = [];
        for(let i = 0; i < 10000; i++) {
            const x = (Math.random() - 0.5) * 2000;
            const y = (Math.random() - 0.5) * 2000;
            const z = (Math.random() - 0.5) * 2000;
            starsVertices.push(x, y, z);
        }

        starsGeometry.setAttribute('position', new THREE.Float32BufferAttribute(starsVertices, 3));
        const stars = new THREE.Points(starsGeometry, starsMaterial);
        scene.add(stars);

        // Create globe
        const radius = 5.3;
        const segments = 64;
        const geometry = new THREE.SphereGeometry(radius, segments, segments);
        const textureLoader = new THREE.TextureLoader();
        const texture = textureLoader.load('./Assets/img/Globe Base X.png');
        const material = new THREE.MeshPhongMaterial({ map: texture });
        const globe = new THREE.Mesh(geometry, material);
        scene.add(globe);

        // Add lighting
        const ambientLight = new THREE.AmbientLight(0xffffff, 0.5);
        scene.add(ambientLight);
        const pointLight = new THREE.PointLight(0x8FE0DF, 0.07);
        pointLight.position.set(17, 5, 42);
        scene.add(pointLight);

        // Add back light for glow effect
        const backLight = new THREE.PointLight(0xffffff, 1);
        backLight.position.set(0, 0, -15);
        scene.add(backLight);

        // Set camera position
        camera.position.z = 10;

        // Location data
        const locations = [
        {
                name: "Shandong, China",
                lat: 36.3427,
                lng: 118.1498,
                programme: "Looking China",
                year: 2019,
                category: "INT EXCHANGE",
                description: "Arun Gupta and Rahul Jain participated in the youth film project, leading to 10 short documentaries."
            },
            {
                name: "India",
                lat: 18.5937,
                lng: 75.9629,
                programme: "India Remembers Octavio Paz",
                year: 2019,
                category: "EXHIBITION",
                description: "Poster exhibition based on Octavio Paz's poems, organized by NID and the Mexican Embassy."
            },
            {
                name: "Manipur, India",
                lat: 24.6637,
                lng: 93.9063,
                programme: "Craft Map and Innovative Crafts Souvenirs of Manipur",
                year: 2019,
                category: "IDS PROJECT",
                description: "Launch event for innovative craft souvenirs and craft maps as part of 'Design for Manipur'."
            },
            {
                name: "Mumbai, India",
                lat: 19.076,
                lng: 72.8777,
                programme: "Responses - A Photo Exhibition",
                year: 2020,
                category: "INT EXCHANGE",
                description: "Photography exhibition in collaboration with Goethe Institute and Leipzig Academy of Fine Art."
            },
            {
                name: "Leipzig, Germany",
                lat: 51.3397,
                lng: 12.3731,
                programme: "Responses - A Photo Exhibition",
                year: 2020,
                category: "INT EXCHANGE",
                description: "Photography exhibition in collaboration with Goethe Institute and Leipzig Academy of Fine Art."
            },
            {
                name: "Guadalajara, Mexico",
                lat: 18.9597,
                lng: -103.3496,
                programme: "Modernism in India - Through NID Archives",
                year: 2019,
                category: "EXHIBITION",
                description: "Exhibition tracing India's modernist design history through NID archives."
            },
            {
                name: "Bengaluru, India",
                lat: 13.9716,
                lng: 76.5946,
                programme: "National Conference on Assistive Technology",
                year: 2019,
                category: "CONFERENCE",
                description: "Conference on Assistive Technology organized by Mobility India with participation from NID."
            },
            {
                name: "Delhi, India",
                lat: 28.7041,
                lng: 77.1025,
                programme: "Digital Mini Spectacle - Hampi",
                year: 2020,
                category: "RESEARCH",
                description: "Exhibition showcasing Indian Digital Heritage initiatives."
            },
            {
                name: "Guadalajara, Mexico",
                lat: 20.6597,
                lng: -103.3496,
                programme: "Guest of Honour India Pavilion",
                year: 2019,
                category: "IDS PROJECT",
                description: "Design and supervision of India's Pavilion at Guadalajara Book Fair."
            },
            {
                name: "Abu Dhabi, UAE",
                lat: 23.4241,
                lng: 53.8478,
                programme: "Guest of Honour India Pavilion",
                year: 2019,
                category: "IDS PROJECT",
                description: "Design and supervision of India's Pavilion at Abu Dhabi International Book Fair."
            },
            {
                name: "Paris, France",
                lat: 46.6034,
                lng: 1.8883,
                programme: "Guest of Honour India Pavilion",
                year: 2022,
                category: "IDS PROJECT",
                description: "Design and supervision of India's Pavilion at Festival du Livres de Paris."
            },
            {
                name: "Gujarat, India",
                lat: 22.2587,
                lng: 71.1924,
                programme: "Design of Industrial Overall for Women for ONGC",
                year: 2019,
                category: "IDS PROJECT",
                description: "Design of industrial overalls (dungarees) for women workers at ONGC."
            },
            {
                name: "Rajasthan, India",
                lat: 27.0238,
                lng: 74.2179,
                programme: "Ajit Vivek Museum for Ramakrishna Mission",
                year: 2019,
                category: "IDS PROJECT",
                description: "Project inauguration for a museum at Ramakrishna Mission, Khetri."
            },
            {
                name: "Ahmedabad, India",
                lat: 24.0225,
                lng: 72.5714,
                programme: "Relating Systems Thinking and Design Symposium (RSD9)",
                year: 2020,
                category: "CONFERENCE",
                description: "Symposium on systemic design thinking hosted by NID Ahmedabad and Systemic Design Association."
            },
            {
                name: "Bengaluru, India",
                lat: 12.9716,
                lng: 77.5946,
                programme: "WIRIN Project - Autonomous Vehicle",
                year: 2020,
                category: "RESEARCH",
                description: "WIPRO-IISC-NID joint-research initiative on autonomous vehicles."
            },
            {
                name: "Delhi, India",
                lat: 29.7041,
                lng: 77.0025,
                programme: "MoU with IGNCA",
                year: 2019,
                category: "COLLABORATION",
                description: "Memorandum of Understanding signed to promote collaboration in research, exhibitions, and archival access."
            },
            {
                name: "Ahmedabad, India",
                lat: 24.0225,
                lng: 70.5714,
                programme: "PDC Place India Conference 2022",
                year: 2022,
                category: "CONFERENCE",
                description: "Conference to map Participatory Design practices in India."
            },
            {
                name: "Ahmedabad, India",
                lat: 25.0225,
                lng: 72.5714,
                programme: "6th Alpavirama International Youth Film Festival 2024",
                year: 2024,
                category: "CONFERENCE",
                description: "Film festival organized by NID Ahmedabad's Film & Video Communication discipline."
            },
            {
                name: "Ahmedabad, India",
                lat: 25.0225,
                lng: 75.5714,
                programme: "MoU with ISRO for Indian Spaceflight Programme",
                year: 2023,
                category: "COLLABORATION",
                description: "MoU signed for designing systems and products for India's human spaceflight program."
            },
            {
                name: "Bengaluru, India",
                lat: 15.9716,
                lng: 77.5946,
                programme: "IXDS: Interaction Design Symposium",
                year: 2024,
                category: "CONFERENCE",
                description: "Symposium on interaction design in the digital age."
            },
            {
                name: "Ahmedabad, India",
                lat: 18.0225,
                lng: 73.5714,
                programme: "Relating Systems Thinking to Design Symposium (RSD12)",
                year: 2023,
                category: "CONFERENCE",
                description: "Relating Systems Thinking and Design Symposium - India Hub event."
            },
            {
                name: "Paris, France",
                lat: 48.8566,
                lng: 2.3522,
                programme: "India Pavilion at VivaTech 2023",
                year: 2023,
                category: "IDS PROJECT",
                description: "Design of India's Pavilion at VivaTech 2023 in Paris."
            },
            {
                name: "Cannes, France",
                lat: 47.7528,
                lng: 6.0174,
                programme: "India Pavilion at Festival de Cannes 2023 & 2024",
                year: "2023-2024",
                category: "IDS PROJECT",
                description: "Design of India's Pavilion at Festival de Cannes 2023, celebrating India's creative economy."
            },
            {
                name: "India",
                lat: 20.5937,
                lng: 78.9629,
                programme: "Indian Footwear and Leather Development Programme (IFLPD)",
                year: 2023,
                category: "IDS PROJECT",
                description: "Setting up of a Design Studio under the Indian Footwear and Leather Development Programme."
            },
            {
                name: "India",
                lat: 22.5937,
                lng: 76.9629,
                programme: "NID-IGNCA Workshop for Artwork Curation",
                year: 2024,
                category: "COLLABORATION",
                description: "Workshop for artwork curation in buildings of national importance."
            },
            {
                name: "Zimbabwe",
                lat: -19.0154,
                lng: 29.1549,
                programme: "Basketry Craft Design Interventions",
                year: 2014,
                category: "IDS PROJECT",
                description: "Modernizing weaving techniques, empowering artisans"
            },
            {
                name: "Ethiopia",
                lat: 9.145,
                lng: 40.4897,
                programme: "Basketry Craft Design Interventions",
                year: 2014,
                category: "IDS PROJECT",
                description: "Modernizing weaving techniques, empowering artisans"
            },
            {
                name: "Ghana",
                lat: 7.9465,
                lng: -1.0232,
                programme: "Basketry Craft Design Interventions",
                year: 2014,
                category: "IDS PROJECT",
                description: "Modernizing weaving techniques, empowering artisans"
            },
            {
                name: "UK",
                lat: 57.3781,
                lng: -3.136,
                programme: "Design Education Collaborations",
                category: "INT EXCHANGE",
                description: "Collaborations with RCA (UK), Aalto University (Finland), Politecnico di Milano (Italy)"
            },
            {
                name: "Finland",
                lat: 61.9241,
                lng: 25.7482,
                programme: "Design Education Collaborations",
                category: "INT EXCHANGE",
                description: "Collaborations with RCA (UK), Aalto University (Finland), Politecnico di Milano (Italy)"
            },
            {
                name: "Italy",
                lat: 41.8719,
                lng: 12.5674,
                programme: "Design Education Collaborations",
                category: "INT EXCHANGE",
                description: "Collaborations with RCA (UK), Aalto University (Finland), Politecnico di Milano (Italy)"
            },
            {
                name: "Japan",
                lat: 36.2048,
                lng: 138.2529,
                programme: "India Design Mark (I-Mark)",
                year: 2012,
                category: "COLLABORATION",
                description: "Certifying Indian industrial designs, in cooperation with Japan Institute of Design Promotion (JDP)"
            },
            {
                name: "France",
                lat: 44.034,
                lng: 1.8883,
                programme: "Exhibition of French Maps & Drawings",
                category: "EXHIBITION",
                description: "Cultural and historical Indo-French design project"
            },
            {
                name: "Thailand",
                lat: 15.87,
                lng: 100.9925,
                programme: "NID-ENSCI-KMUTT Summer Workshop",
                year: 2024,
                category: "INT EXCHANGE",
                description: "International cross-cultural design education"
            },
            {
                name: "Bangladesh",
                lat: 23.685,
                lng: 90.3563,
                programme: "Jute Textile Promotion",
                category: "IDS PROJECT",
                description: "Sustainable design interventions in traditional jute craft"
            },
            {
                name: "Bhutan",
                lat: 27.5142,
                lng: 90.4336,
                programme: "Jute Textile Promotion",
                category: "IDS PROJECT",
                description: "Sustainable design interventions in traditional jute craft"
            },
            {
                name: "Delhi, India",
                lat: 27.7041,
                lng: 76.1025,
                programme: "Polling Booth Identity, BrahMos Branding",
                category: "IDS PROJECT",
                description: "Election Commission Booth Identity, BrahMos Aerospace Branding"
            },
            {
                name: "Uttar Pradesh, India",
                lat: 26.8467,
                lng: 80.9462,
                programme: "Lucknow Design Institute, Monorail Branding",
                category: "IDS PROJECT",
                description: "Design curriculum for Lucknow Design Institute, Monorail Branding"
            },
            {
                name: "Gujarat, India",
                lat: 23.2587,
                lng: 71.124,
                programme: "Ahmedabad BRTS Branding, Amul Kiosk & Packaging",
                year: 2010,
                category: "IDS PROJECT",
                description: "Branding Ahmedabad's BRTS, designing Amul packaging"
            },
            {
                name: "Maharashtra, India",
                lat: 19.7515,
                lng: 75.7139,
                programme: "RBI Monetary Museum, Mumbai Railway Scheme",
                year: 2006,
                category: "IDS PROJECT",
                description: "Creating RBI's Monetary Museum, Mumbai railway signage"
            },
            {
                name: "Tamil Nadu, India",
                lat: 11.1271,
                lng: 78.6569,
                programme: "Handloom Branding, Jute Clusters",
                category: "IDS PROJECT",
                description: "Design modernization for Tamil Nadu's handloom industry"
            },
            {
                name: "Karnataka, India",
                lat: 15.3173,
                lng: 75.7139,
                programme: "BMTC Bus Branding, IIM Bangalore Identity",
                category: "IDS PROJECT",
                description: "BMTC Bus branding and IIM Bangalore's visual identity"
            },
            {
                name: "India",
                lat: 20.5937,
                lng: 76.9629,
                programme: "Warship Ergonomics, DRDO Expandable Decoy System",
                category: "IDS PROJECT",
                description: "Ergonomic enhancements for warships and DRDO projects"
            },
            {
                name: "India",
                lat: 22.5937,
                lng: 78.9629,
                programme: "Train Coach Ergonomics, Track Tools Redesign",
                category: "IDS PROJECT",
                description: "Redesigning train coach ergonomics and railway track tools"
            },
            {
                name: "India",
                lat: 18.5937,
                lng: 77.9629,
                programme: "National Design Business Incubator (NDBI)",
                category: "DESIGN ENTREPRENEURSHIP",
                description: "Supports startups in design-led entrepreneurship, globally recognized for fostering design-driven innovation."
            },
            {
                name: "Srinagar, India",
                lat: 35.7837,
                lng: 75.7973,
                programme: "USTTAD Scheme of Ministry of Minority Affairs (MoMA), GoI",
                year: "2016-2023",
                category: "IDS PROJECT",
                description: "Government initiative uplifting artisans, helping them modernize and sustain their crafts."
            },
            {
                name: "Longpi, India",
                lat: 25.1,
                lng: 94.2,
                programme: "USTTAD Scheme of Ministry of Minority Affairs (MoMA), GoI",
                year: "2016-2023",
                category: "IDS PROJECT",
                description: "Government initiative uplifting artisans, helping them modernize and sustain their crafts."
            },
            {
                name: "Kochi, India",
                lat: 9.9312,
                lng: 76.2673,
                programme: "USTTAD Scheme of Ministry of Minority Affairs (MoMA), GoI",
                year: "2016-2023",
                category: "IDS PROJECT",
                description: "Government initiative uplifting artisans, helping them modernize and sustain their crafts."
            },
            {
                name: "Varanasi, India",
                lat: 25.3176,
                lng: 82.9739,
                programme: "USTTAD Scheme of Ministry of Minority Affairs (MoMA), GoI",
                year: "2016-2023",
                category: "IDS PROJECT",
                description: "Government initiative uplifting artisans, helping them modernize and sustain their crafts."
            },
            {
                name: "Ferozabad, India",
                lat: 25.1591,
                lng: 79.3958,
                programme: "USTTAD Scheme of Ministry of Minority Affairs (MoMA), GoI",
                year: "2016-2023",
                category: "IDS PROJECT",
                description: "Government initiative uplifting artisans, helping them modernize and sustain their crafts."
            },
            {
                name: "Bikaner, India",
                lat: 28.0229,
                lng: 73.3119,
                programme: "USTTAD Scheme of Ministry of Minority Affairs (MoMA), GoI",
                year: "2016-2023",
                category: "IDS PROJECT",
                description: "Government initiative uplifting artisans, helping them modernize and sustain their crafts."
            },
            {
                name: "Nimmalakunta, India",
                lat: 14.5,
                lng: 77.5,
                programme: "USTTAD Scheme of Ministry of Minority Affairs (MoMA), GoI",
                year: "2016-2023",
                category: "IDS PROJECT",
                description: "Government initiative uplifting artisans, helping them modernize and sustain their crafts."
            },
            {
                name: "Likir, India",
                lat: 34.2833,
                lng: 77.1167,
                programme: "USTTAD Scheme of Ministry of Minority Affairs (MoMA), GoI",
                year: "2016-2023",
                category: "IDS PROJECT",
                description: "Government initiative uplifting artisans, helping them modernize and sustain their crafts."
            },
            {
                name: "Jandialaguru, India",
                lat: 31.55,
                lng: 75.0333,
                programme: "USTTAD Scheme of Ministry of Minority Affairs (MoMA), GoI",
                year: "2016-2023",
                category: "IDS PROJECT",
                description: "Government initiative uplifting artisans, helping them modernize and sustain their crafts."
            },
            {
                name: "Panjim, India",
                lat: 15.4909,
                lng: 73.8278,
                programme: "USTTAD Scheme of Ministry of Minority Affairs (MoMA), GoI",
                year: "2016-2023",
                category: "IDS PROJECT",
                description: "Government initiative uplifting artisans, helping them modernize and sustain their crafts."
            },
            {
                name: "India",
                lat: 17.5937,
                lng: 75.9629,
                programme: "One District One Product (ODOP)",
                year: 2023,
                category: "IDS PROJECT",
                description: "Encouraging unique local products in each district, supporting regional craft-based economies."
            },
            {
                name: "North East India",
                lat: 26.2006,
                lng: 92.9376,
                programme: "Textile Traditions of NE States of India",
                year: "2012-2018",
                category: "IDS PROJECT",
                description: "Documentation project for IGNCA"
            },
            {
                name: "USA",
                lat: 37.0902,
                lng: -95.7129,
                programme: "GM- Partners for the Advancement of Collaborative Engineering Education (PACE) program",
                year: "2008-2017",
                category: "COLLABORATION"
            },
            {
                name: "Jaipur, India",
                lat: 26.9124,
                lng: 75.7873,
                programme: "Setting-up Craft and Design Institutes in India",
                year: "2000s",
                category: "INSTITUTION BUILDING",
                description: "IICD JAIPUR, CDI SRINAGAR, BCDI AGARTALA, KSID KOCHI, Jharkand State Institute of Design Ranchi"
            },
            {
                name: "Srinagar, India",
                lat: 34.0837,
                lng: 74.7973,
                programme: "Setting-up Craft and Design Institutes in India",
                year: "2000s",
                category: "INSTITUTION BUILDING",
                description: "IICD JAIPUR, CDI SRINAGAR, BCDI AGARTALA, KSID KOCHI, Jharkand State Institute of Design Ranchi"
            },
            {
                name: "Agartala, India",
                lat: 23.8315,
                lng: 91.2868,
                programme: "Setting-up Craft and Design Institutes in India",
                year: "2000s",
                category: "INSTITUTION BUILDING",
                description: "IICD JAIPUR, CDI SRINAGAR, BCDI AGARTALA, KSID KOCHI, Jharkand State Institute of Design Ranchi"
            },
            {
                name: "Kerala, India",
                lat: 10.8505,
                lng: 76.2711,
                programme: "Setting-up Craft and Design Institutes in India",
                year: "2000s",
                category: "INSTITUTION BUILDING",
                description: "IICD JAIPUR, CDI SRINAGAR, BCDI AGARTALA, KSID KOCHI, Jharkand State Institute of Design Ranchi"
            },
            {
                name: "Jharkand, India",
                lat: 23.6102,
                lng: 85.2799,
                programme: "Setting-up Craft and Design Institutes in India",
                year: "2000s",
                category: "INSTITUTION BUILDING",
                description: "IICD JAIPUR, CDI SRINAGAR, BCDI AGARTALA, KSID KOCHI, Jharkand State Institute of Design Ranchi"
            },
            {
                name: "Meghalaya, India",
                lat: 25.467,
                lng: 91.3662,
                programme: "MOU with state of Meghalaya",
                year: 2023,
                category: "COLLABORATION"
            },
            {
                name: "Sikkim, India",
                lat: 27.533,
                lng: 88.5122,
                programme: "MOU with state of Sikkim",
                year: 2024,
                category: "COLLABORATION"
            },
            {
                name: "Firozabad, India",
                lat: 27.1591,
                lng: 78.3958,
                programme: "MOU with CDGI (Centre for Development of Glass Industries), Firozabad",
                category: "RESEARCH"
            },
            {
                name: "USA",
                lat: 42.0902,
                lng: -100.7129,
                programme: "Ford Foundation & NID Establishment",
                year: 1961,
                category: "INSTITUTION BUILDING",
                description: "Provided financial and technical support for NID's foundation; Commissioned the Eames Report (1958), shaping India's design education system."
            },
            {
                name: "Berlin, Germany",
                lat: 52.52,
                lng: 13.405,
                programme: "India Pavilion at Berlinale 2024",
                year: 2024,
                category: "IDS PROJECT",
                description: "Design of India's Pavilion at Berlinale 2024, celebrating India's creative economy."
            },
            {
                name: "London, UK",
                lat: 53.5074,
                lng: -0.1278,
                programme: "Terra Carta Design Lab",
                year: "2023-24",
                category: "INT EXCHANGE",
                description: "Partner with SMI, an initiative of King Charles of UK"
            },
            {
                name: "Qingdao, China",
                lat: 36.0671,
                lng: 120.3826,
                programme: "TASA-ICoD International Design Education Laboratory",
                year: 2024,
                category: "INT EXCHANGE",
                description: "Six weeks immersive experience for students and faculty, July-Aug 2024"
            },
            {
                name: "Aalto, Finland",
                lat: 60.186,
                lng: 24.828,
                programme: "Aalto Summer School",
                year: 2024,
                category: "INT EXCHANGE",
                description: "Multi- institute summer programme for faculty and students, 2024"
            },
            {
                name: "Ahmedabad, India",
                lat: 24.0225,
                lng: 73.9714,
                programme: "International Center for Indian Crafts (ICIC)",
                year: "2000s",
                category: "DESIGN PROMOTION"
            },
            {
                name: "Ahmedabad, India",
                lat: 23.0225,
                lng: 72.5714,
                programme: "UKRI-AHRC Research Project",
                year: "2024-25",
                category: "RESEARCH",
                description: "Crafting a Sustainable Future: Empowering Indian Crafts in the Creative Industries, started in December 2024, Project Lead : Dr. Ketankumar Vadodaria"
            },
            {
                name: "London, UK",
                lat: 51.5074,
                lng: -0.1278,
                programme: "UKRI-AHRC Research Project",
                year: "2024-25",
                category: "RESEARCH",
                description: "Crafting a Sustainable Future: Empowering Indian Crafts in the Creative Industries, started in December 2024, Project Lead : Dr. Ketankumar Vadodaria"
            },
            {
                name: "Ahmedabad, India",
                lat: 25.0225,
                lng: 71.5714,
                programme: "From Where I Stand Exhibition, 2023",
                year: 2023,
                category: "INT EXCHANGE",
                description: "Future Flow Curatorial Fellowship for Students from NID and Scotland Universities by Edinburgh Print Labs, Flow India, and NID"
            },
            {
                name: "Delhi, India",
                lat: 30.7041,
                lng: 77.1025,
                programme: "From Where I Stand Exhibition, 2023",
                year: 2023,
                category: "INT EXCHANGE",
                description: "Future Flow Curatorial Fellowship for Students from NID and Scotland Universities by Edinburgh Print Labs, Flow India, and NID"
            },
            {
                name: "Edinburgh, Scotland",
                lat: 55.9533,
                lng: -3.1883,
                programme: "From Where I Stand Exhibition, 2023",
                year: 2023,
                category: "INT EXCHANGE",
                description: "Future Flow Curatorial Fellowship for Students from NID and Scotland Universities by Edinburgh Print Labs, Flow India, and NID"
            },
            {
                name: "Frankfurt, Germany",
                lat: 51.1657,
                lng: 10.4515,
                programme: "Bharat Pavilion at Frankurt Book Fair",
                year: 2023,
                category: "IDS PROJECT",
                description: "Organized by National Book Trust, Ministry of Education, Government of India."
            },
            {
                "name": "London, UK",
                "lat": 55.3781,
                "lng": -3.436,
                "programme": "Bharat Pavilion at London Book Fair",
                "year": 2024,
                "category": "IDS PROJECT",
                "description": "Organized by National Book Trust, Ministry of Education, Government of India."
            },
            {
                "name": "New Delhi, India",
                "lat": 28.7041,
                "lng": 77.1025,
                "programme": "Theme Pavilion at New Delhi World Book Fair",
                "year": 2022,
                "category": "IDS PROJECT",
                "description": "Ongoing project from 2022-2025 by National Book Trust, Ministry of Education, Government of India."
            },
            {
                "name": "Goa, India",
                "lat": 15.2993,
                "lng": 74.1245,
                "programme": "55th International Film Festival of India",
                "year": 2024,
                "category": "IDS PROJECT",
                "description": "Organized by NFDC, Ministry of Information & Broadcasting, Government of India."
            },
            {
                "name": "London, UK",
                "lat": 55.3781,
                "lng": -3.436,
                "programme": "Chemical Recycling of Electronic Waste for Sustainable Livelihoods and Material Consumption in India",
                "year": 2023,
                "category": "RESEARCH",
                "description": "Research project funded by EPSRC Global Challenges Research Fund (GCRF)."
            },
            {
                "name": "Tokyo, Japan",
                "lat": 37.2048,
                "lng": 139.2529,
                "programme": "The Inter-University Exchange Project",
                "year": 2022,
                "category": "COLLABORATION",
                "description": "Multi-year initiative (2022-2026) under Japan-UK Australia-India SDGs x ARTs Global Leadership Initiative Collaborated with Shared Campus (International Co-Creation Campus)–Creating Innovations for World Happiness."
            }
        ];

        // Category colors mapping
        const categoryColors = {
            'INT EXCHANGE': '#127C9C',
            'EXHIBITION': '#53419A',
            'IDS PROJECT': '#DB2044',
            'CONFERENCE': '#AE2079',
            'RESEARCH': '#EAC300',
            'COLLABORATION': '#F37424',
            'DESIGN ENTREPRENEURSHIP': '#2920AE',
            'INSTITUTION BUILDING': '#78AE20',
            'DESIGN PROMOTION': '#20AE8D'
        };

        // Add location markers
        const markerGeometry = new THREE.SphereGeometry(0.05, 16, 16); 
        
        const markers = locations.map(location => {
            const markerMaterial = new THREE.MeshBasicMaterial({ 
                color: categoryColors[location.category] || 0xB4F033 
            });
            const marker = new THREE.Mesh(markerGeometry, markerMaterial);
            const position = latLngToVector3(location.lat, location.lng, radius);
            marker.position.copy(position);
            marker.userData = location;
            globe.add(marker);
            return marker;
        });

        // Convert latitude and longitude to 3D coordinates
        function latLngToVector3(lat, lng, radius) {
            const phi = (90 - lat) * (Math.PI / 180);
            const theta = (lng + 180) * (Math.PI / 180);
            const x = -(radius * Math.sin(phi) * Math.cos(theta));
            const y = radius * Math.cos(phi);
            const z = radius * Math.sin(phi) * Math.sin(theta);
            return new THREE.Vector3(x, y, z);
        }

        // Touch and mouse interaction handling
        const raycaster = new THREE.Raycaster();
        const mouse = new THREE.Vector2();
        let isDragging = false;
        let previousPosition = {
            x: 0,
            y: 0
        };
        let rotationSpeed = {
            x: 0,
            y: 0
        };

        function getEventCoords(event) {
            const coords = {
                x: event.clientX || (event.touches ? event.touches[0].clientX : 0),
                y: event.clientY || (event.touches ? event.touches[0].clientY : 0)
            };
            return coords;
        }

        function handleStart(event) {
            event.preventDefault();
            isDragging = true;
            const coords = getEventCoords(event);
            previousPosition.x = coords.x;
            previousPosition.y = coords.y;
            rotationSpeed.x = 0;
            rotationSpeed.y = 0;
        }

        function handleMove(event) {
            event.preventDefault();
            if (!isDragging) return;

            const coords = getEventCoords(event);
            const deltaMove = {
                x: coords.x - previousPosition.x,
                y: coords.y - previousPosition.y
            };

            rotationSpeed.x = deltaMove.x * 0.002;
            rotationSpeed.y = deltaMove.y * 0.002;

            globe.rotation.y += rotationSpeed.x;
            globe.rotation.x += rotationSpeed.y;

            previousPosition.x = coords.x;
            previousPosition.y = coords.y;
        }

        function handleEnd(event) {
            event.preventDefault();
            if (!isDragging) return;
            
            isDragging = false;
            
            // Check for marker clicks/taps only if there was minimal movement
            const coords = getEventCoords(event.changedTouches ? event.changedTouches[0] : event);
            const movementThreshold = 5;
            
            if (Math.abs(coords.x - previousPosition.x) < movementThreshold && 
                Math.abs(coords.y - previousPosition.y) < movementThreshold) {
                
                mouse.x = (coords.x / window.innerWidth) * 2 - 1;
                mouse.y = -(coords.y / window.innerHeight) * 2 + 1;

                raycaster.setFromCamera(mouse, camera);
                const intersects = raycaster.intersectObjects(markers);

                if (intersects.length > 0) {
                    const location = intersects[0].object.userData;
                    showLocationCard(location, coords.x, coords.y);
                } else {
                    hideLocationCard();
                }
            }
        }

        // Add touch and mouse event listeners
        const container = document.getElementById('globe-container');
        
        // Touch events
        container.addEventListener('touchstart', handleStart, { passive: false });
        container.addEventListener('touchmove', handleMove, { passive: false });
        container.addEventListener('touchend', handleEnd, { passive: false });
        
        // Mouse events
        container.addEventListener('mousedown', handleStart);
        container.addEventListener('mousemove', handleMove);
        container.addEventListener('mouseup', handleEnd);
        container.addEventListener('mouseleave', () => {
            isDragging = false;
        });

        // Show/hide location card
        function showLocationCard(location, x, y) {
            const card = document.getElementById('location-card');
            const title = document.getElementById('location-title');
            const category = document.getElementById('location-category');
            
            title.textContent = `${location.programme} - ${location.name}`;
            title.style.color = categoryColors[location.category] || '#02814D';
            
            category.textContent = location.category;
            category.style.color = categoryColors[location.category] || '#127c9c';
            
            document.getElementById('location-year').textContent = location.year;
            document.getElementById('location-description').textContent = location.description;
            card.style.display = 'block';
            
            // Adjust card position for mobile
            if (window.innerWidth <= 768) {
                card.style.left = '50%';
                card.style.bottom = '20px';
                card.style.top = 'auto';
            } else {
                card.style.left = `${x + 10}px`;
                card.style.top = `${y + 10}px`;
            }
        }

        function hideLocationCard() {
            document.getElementById('location-card').style.display = 'none';
        }

        // Animation loop with momentum
        function animate() {
            requestAnimationFrame(animate);
            
            if (!isDragging) {
                // Apply momentum and gradually slow down
                globe.rotation.y += rotationSpeed.x * 0.50;
                globe.rotation.x += rotationSpeed.y * 0.50;
                rotationSpeed.x *= 0.50;
                rotationSpeed.y *= 0.50;
                
                // If speed is very low, add slight constant rotation
                if (Math.abs(rotationSpeed.x) < 0.0002 && Math.abs(rotationSpeed.y) < 0.0003) {
                    globe.rotation.y += 0.0002;
                }
            }
            
            stars.rotation.y += 0.0001;
            renderer.render(scene, camera);
        }
        animate();

        // Handle window resize
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });
    </script>
</body>
</html>
